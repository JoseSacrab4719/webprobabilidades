<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora Avanzada de Probabilidades üé≤</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>üìä Calculadora de Probabilidades</h1>
    <p>Aprende estad√≠stica de forma interactiva - Distribuye probabilidades f√°cilmente üé≤</p>
    <nav>
      <button onclick="mostrarSeccion('simple')">Simple</button>
      <button onclick="mostrarSeccion('condicional')">Condicional</button>
      <button onclick="mostrarSeccion('compuesta')">Compuesta</button>
      <button onclick="mostrarSeccion('bayes')">Bayes</button>
      <button onclick="mostrarSeccion('poisson')">Poisson</button>
      <button onclick="mostrarSeccion('binomialNegativa')">Binomial Negativa</button>
      <button onclick="mostrarSeccion('exponencial')">Exponencial</button>
    </nav>
  </header>

  <button id="toggle-dark" class="dark-toggle" title="Cambiar tema">üåô</button>

  <main>
    <!-- ===== PROBABILIDAD SIMPLE ===== -->
    <section id="simple" class="probabilidad activo">
      <h2>üìç Probabilidad Simple</h2>
      <p><strong>Concepto:</strong> Es la raz√≥n entre casos favorables y casos totales.</p>
      <p><strong>F√≥rmula:</strong> P(A) = Casos favorables / Casos totales</p>

      <form onsubmit="calcularSimple(event)">
        <label for="favorables">Casos Favorables:</label>
        <input type="number" id="favorables" step="1" min="0" required placeholder="Ej: 3">
        
        <label for="totales">Casos Totales:</label>
        <input type="number" id="totales" step="1" min="1" required placeholder="Ej: 6">
        
        <button type="submit">Calcular Probabilidad</button>
      </form>

      <div id="resultado-simple"></div>
      <canvas id="graficoSimple"></canvas>
    </section>

    <!-- ===== PROBABILIDAD CONDICIONAL ===== -->
    <section id="condicional" class="probabilidad">
      <h2>üîÄ Probabilidad Condicional</h2>
      <p><strong>Concepto:</strong> Probabilidad de un evento dado que otro evento ya ocurri√≥.</p>
      <p><strong>F√≥rmula:</strong> P(A|B) = P(A ‚à© B) / P(B)</p>

      <form onsubmit="calcularCondicional(event)">
        <label for="pab">P(A ‚à© B) - Probabilidad conjunta (0-1):</label>
        <input type="number" id="pab" step="0.01" min="0" max="1" required placeholder="Ej: 0.2">
        
        <label for="pb">P(B) - Probabilidad de B (0-1):</label>
        <input type="number" id="pb" step="0.01" min="0" max="1" required placeholder="Ej: 0.5">
        
        <button type="submit">Calcular P(A|B)</button>
      </form>

      <div id="resultado-condicional"></div>
      <canvas id="graficoCondicional"></canvas>
    </section>

    <!-- ===== PROBABILIDAD COMPUESTA ===== -->
    <section id="compuesta" class="probabilidad">
      <h2>‚úñÔ∏è Probabilidad Compuesta</h2>
      <p><strong>Concepto:</strong> Probabilidad de que dos eventos independientes ocurran simult√°neamente.</p>
      <p><strong>F√≥rmula:</strong> P(A ‚à© B) = P(A) √ó P(B)</p>

      <form onsubmit="calcularCompuesta(event)">
        <label for="pa">P(A) - Probabilidad de A (0-1):</label>
        <input type="number" id="pa" step="0.01" min="0" max="1" required placeholder="Ej: 0.4">
        
        <label for="pb2">P(B) - Probabilidad de B (0-1):</label>
        <input type="number" id="pb2" step="0.01" min="0" max="1" required placeholder="Ej: 0.5">
        
        <button type="submit">Calcular P(A ‚à© B)</button>
      </form>

      <div id="resultado-compuesta"></div>
      <canvas id="graficoCompuesta"></canvas>
    </section>

    <!-- ===== TEOREMA DE BAYES ===== -->
    <section id="bayes" class="probabilidad">
      <h2>üîÑ Teorema de Bayes</h2>
      <p><strong>Concepto:</strong> Actualiza la probabilidad de un evento basado en nueva informaci√≥n.</p>
      <p><strong>F√≥rmula:</strong> P(A|B) = [P(B|A) √ó P(A)] / P(B)</p>

      <form onsubmit="calcularBayes(event)">
        <label for="pba">P(B|A) - Probabilidad de B dado A (0-1):</label>
        <input type="number" id="pba" step="0.01" min="0" max="1" required placeholder="Ej: 0.8">
        
        <label for="pa2">P(A) - Probabilidad previa de A (0-1):</label>
        <input type="number" id="pa2" step="0.01" min="0" max="1" required placeholder="Ej: 0.3">
        
        <label for="pb3">P(B) - Probabilidad total de B (0-1):</label>
        <input type="number" id="pb3" step="0.01" min="0" max="1" required placeholder="Ej: 0.4">
        
        <button type="submit">Calcular P(A|B)</button>
      </form>

      <div id="resultado-bayes"></div>
      <canvas id="graficoBayes"></canvas>
    </section>

    <!-- ===== DISTRIBUCI√ìN DE POISSON ===== -->
    <section id="poisson" class="probabilidad">
      <h2>üîî Distribuci√≥n de Poisson</h2>
      <p><strong>Concepto:</strong> Modela el n√∫mero de eventos que ocurren en un intervalo de tiempo fijo.</p>
      <p><strong>Aplicaciones:</strong> Llamadas telef√≥nicas por hora, accidentes por semana, etc.</p>
      <p><strong>F√≥rmula:</strong> P(X = k) = (Œª<sup>k</sup> √ó e<sup>-Œª</sup>) / k!</p>

      <form onsubmit="calcularPoisson(event)">
        <label for="lambda_poisson">Œª (Lambda - Media de eventos):</label>
        <input type="number" id="lambda_poisson" step="0.1" min="0.1" required placeholder="Ej: 3.5">
        
        <label for="k_poisson">k (N√∫mero de eventos a calcular):</label>
        <input type="number" id="k_poisson" step="1" min="0" required placeholder="Ej: 5">
        
        <button type="submit">Calcular Probabilidad</button>
      </form>

      <p id="resultado_poisson"></p>
      <canvas id="graficoPoisson"></canvas>
    </section>

    <!-- ===== DISTRIBUCI√ìN BINOMIAL NEGATIVA ===== -->
    <section id="binomialNegativa" class="probabilidad">
      <h2>‚ö†Ô∏è Distribuci√≥n Binomial Negativa</h2>
      <p><strong>Concepto:</strong> N√∫mero de fracasos antes de lograr r √©xitos.</p>
      <p><strong>Aplicaciones:</strong> Control de calidad, pruebas repetidas, etc.</p>
      <p><strong>F√≥rmula:</strong> P(X = x) = C(x + r - 1, x) √ó p<sup>r</sup> √ó (1 - p)<sup>x</sup></p>

      <form onsubmit="calcularBinomialNegativa(event)">
        <label for="r_bn">r (N√∫mero de √©xitos deseados):</label>
        <input type="number" id="r_bn" step="1" min="1" required placeholder="Ej: 3">
        
        <label for="p_bn">p (Probabilidad de √©xito en cada prueba, 0-1):</label>
        <input type="number" id="p_bn" step="0.01" min="0.01" max="0.99" required placeholder="Ej: 0.5">
        
        <label for="x_bn">x (N√∫mero de fracasos):</label>
        <input type="number" id="x_bn" step="1" min="0" required placeholder="Ej: 2">
        
        <button type="submit">Calcular Probabilidad</button>
      </form>

      <p id="resultado_bn"></p>
      <canvas id="graficoBinomialNegativa"></canvas>
    </section>

    <!-- ===== DISTRIBUCI√ìN EXPONENCIAL ===== -->
    <section id="exponencial" class="probabilidad">
      <h2>‚è±Ô∏è Distribuci√≥n Exponencial</h2>
      <p><strong>Concepto:</strong> Describe el tiempo entre eventos en un proceso de Poisson.</p>
      <p><strong>Aplicaciones:</strong> Tiempo hasta falla de equipos, tiempo de espera, etc.</p>
      <p><strong>F√≥rmula:</strong> f(x; Œª) = Œª √ó e<sup>-Œªx</sup></p>

      <form onsubmit="calcularExponencial(event)">
        <label for="lambda_exp">Œª (Lambda - Tasa media):</label>
        <input type="number" id="lambda_exp" step="0.01" min="0.01" required placeholder="Ej: 0.5">
        
        <label for="x_exp">x (Tiempo o distancia):</label>
        <input type="number" id="x_exp" step="0.1" min="0" required placeholder="Ej: 2">
        
        <button type="submit">Calcular Densidad</button>
      </form>

      <p id="resultado_exp"></p>
      <canvas id="graficoExponencial"></canvas>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>